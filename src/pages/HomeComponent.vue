<template>
    <div>
        <h1>–°–ü–ò–°–û–ö –ó–ê–î–ê–ßüìù </h1>
        <div v-if="state" class="news">
            <h3>–ò–¢–û–ì–û–í–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò –ü–†–ò–õ–û–ñ–ï–ù–ò–Øüì≤</h3>
            <ul>
                <li>–°–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á</li>
                <li>–í—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á</li>
                <li>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á</li>
                <li>–ü–æ–∏—Å–∫ –∑–∞–¥–∞—á</li>
                <li>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –≤—ã—Ö–æ–¥ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>
                <li>–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                <li>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ SPA</li>
                <li>–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ</li>
            </ul>
        </div>
        <div v-if="!state">
            <h2>üîê –í–û–ô–î–ò–¢–ï –ù–ê –°–í–û–ô –ê–ö–ö–ê–£–ù–¢,–ß–¢–û–ë–´ –£–ó–ù–ê–¢–¨ –°–í–û–ô –°–ü–ò–°–û–ö –î–ï–õ</h2>
            <div class="main-agileinfo">
                <div class="agileits-top">
                    <form @submit.prevent method="post">
                        <div class="form__field">
                            <input ref="success1" class="text" type="text" name="login" placeholder="Login"
                                v-model="login" @blur="loginFunc()" required="">
                            <span ref="err1" class="form__error">–≠—Ç–æ –ø–æ–ª–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã –∏
                                —Ü–∏—Ñ—Ä—ã, –ø—Ä–∏–º–µ—Ä: koshka113</span>
                        </div>
                        <div class="form__field">
                            <input ref="success2" class="text" type="password" name="password" placeholder="Password"
                                v-model="password" @blur="passwordFunc()" required="">
                            <span ref="err2" class="form__error">–≠—Ç–æ –ø–æ–ª–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–∞—Ä–æ–ª—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ
                                Example123!</span>
                        </div>
                        <button :class="changeButton() ? 'btn btn-success' : 'btn btn-secondary'"
                            :disabled="!changeButton()" @click="clickButton()"> –í–æ–π—Ç–∏</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
export default {
    props: {
        state: Boolean
    },
    data() {
        return {
            login: '',
            password: '',
            stateLogin: false,
            statePassword: false

        }
    },
    methods: {
        loginFunc() {
            if (/^[a-zA-z]{1}[a-zA-Z1-9]{3,20}$/.test(this.login)) {
                this.$refs.success1.style.border = "1px solid green"
                this.$refs.err1.style.display = "none"
                this.stateLogin = true
            } else {
                this.$refs.err1.style.display = "block"
                this.$refs.success1.style.border = "1px solid red"
                this.stateLogin = false
            }

        },
        passwordFunc() {
            if (/^[a-zA-z]{1}[a-zA-Z1-9]{3,20}$/.test(this.password)) {
                this.$refs.success2.style.border = "1px solid green"
                this.$refs.err2.style.display = "none"
                this.statePassword = true
            } else {
                this.$refs.err2.style.display = "block"
                this.$refs.success2.style.border = "1px solid red"
                this.statePassword = false
            }
        },
        changeButton() {
            return this.stateLogin && this.statePassword
        },
        clickButton() {
            this.$emit("entry");
            setTimeout(() => {
                this.$router.push("/tasklist")
            }, 500);
        }
    }
}
</script>
<style>
li {
    font-size: 20px;
    list-style-type: none;
    color: WHITE;
    font-weight: bold;
}
</style>